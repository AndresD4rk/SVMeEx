<!DOCTYPE html>
<html>
<head>
  <title>Mapa con líneas</title>
  <style>
    #map {
      height: 400px;
      width: 100%;
    }
  </style>
</head>
<body>
<svg width="396" height="118.02114610538538" viewBox="0 0 370 110.27228297725402" class="css-1j8o68f"><defs id="SvgjsDefs4036"></defs><g id="SvgjsG4037" featurekey="symbolFeature-0" transform="matrix(1.1147778400822135,0,0,1.1147778400822135,-5.685366878105789,-0.2757568904543142)" fill="#000000"><path xmlns="http://www.w3.org/2000/svg" d="M90.9,14.6H19.6c-2.2,0-3.9,1.8-3.9,3.9v28.2h5.4V21.5h68.4v41.1H28.7v6.9H49c0,0.1-0.1,0.3-0.1,0.4c0,2.1-2,5.7-4.5,8  l-3.3,3c-2.5,2.3-1.8,4.1,1.4,4.1H56h13.4c3.2,0,3.9-1.9,1.4-4.1l-3.3-3C65,75.7,63,72.1,63,70c0-0.1,0-0.3-0.1-0.4h28  c2.2,0,3.9-1.8,3.9-3.9V18.5C94.9,16.3,93.1,14.6,90.9,14.6z"></path><path xmlns="http://www.w3.org/2000/svg" d="M65.2,49.4c0.1,0.1,0.3,0.1,0.5,0.1c0.3,0,0.6-0.1,0.8-0.3l2.2-2l2,5.2c0.1,0.3,0.3,0.5,0.6,0.6c0.1,0.1,0.3,0.1,0.5,0.1  c0.1,0,0.3,0,0.4-0.1l2.4-0.9c0.6-0.2,0.9-0.9,0.6-1.5l-2-5.2l3,0c0,0,0,0,0,0c0.6,0,1.1-0.5,1.1-1.1c0-0.4-0.2-0.7-0.5-0.9L66.5,32  c-0.3-0.3-0.8-0.5-1.2-0.3c-0.4,0.2-0.7,0.6-0.7,1.1l0,15.6C64.6,48.8,64.8,49.2,65.2,49.4z"></path><path xmlns="http://www.w3.org/2000/svg" d="M22.7,49.1H8.7c-2,0-3.6,1.6-3.6,3.6v29.1c0,2,1.6,3.6,3.6,3.6h13.9c2,0,3.6-1.6,3.6-3.6V52.7  C26.3,50.7,24.7,49.1,22.7,49.1z M15.7,82.8c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8  C17.5,81.9,16.7,82.8,15.7,82.8z M23.3,77.3H8.1V54.5h15.3V77.3z"></path><path xmlns="http://www.w3.org/2000/svg" d="M16,73.1l1.4,1.4c2.1-2.1,3.3-5,3.3-8c0-3-1.2-5.9-3.3-8L16,59.7c1.8,1.8,2.8,4.2,2.8,6.7C18.7,68.9,17.7,71.3,16,73.1z"></path><path xmlns="http://www.w3.org/2000/svg" d="M13.6,70.8l1.4,1.4c1.5-1.5,2.4-3.6,2.4-5.8c0-2.2-0.9-4.2-2.4-5.8L13.6,62c1.2,1.2,1.8,2.8,1.8,4.4  C15.4,68.1,14.8,69.6,13.6,70.8z"></path><path xmlns="http://www.w3.org/2000/svg" d="M12.6,69.7c0.9-0.9,1.4-2.1,1.4-3.3c0-1.3-0.5-2.4-1.4-3.3l-1.4,1.4c0.5,0.5,0.8,1.2,0.8,2c0,0.7-0.3,1.4-0.8,2L12.6,69.7z"></path></g><g id="SvgjsG4038" featurekey="nameFeature-0" transform="matrix(3.094059289080203,0,0,3.094059289080203,117.52475677351879,-34.77723160253726)" fill="#000000"><path d="M14.76 20.96 c0.28 0.08 0.4 0.28 0.4 0.56 l0 24.76 c0 0.36 -0.28 0.6 -0.6 0.6 s-0.6 -0.24 -0.6 -0.6 l0 -16.6 l-4.76 0 l-5.44 7.28 c-0.2 0.28 -0.56 0.32 -0.84 0.12 c-0.32 -0.24 -0.36 -0.52 -0.12 -0.84 l4.92 -6.56 l-6.32 0 c-0.32 0 -0.6 -0.28 -0.6 -0.6 s0.28 -0.6 0.6 -0.6 l7.2 0 l5.48 -7.32 c0.16 -0.2 0.4 -0.28 0.68 -0.2 z M10.12 28.48 l3.84 0 l0 -5.16 z M17.36 46.88 c-0.32 0 -0.6 -0.24 -0.6 -0.6 l0 -24.76 c0 -0.32 0.28 -0.6 0.6 -0.6 l15.08 0 c0.32 0 0.6 0.28 0.6 0.6 c0 0.36 -0.28 0.6 -0.6 0.6 l-14.48 0 l0 8.88 l6.04 0 c0.4 0 0.6 0.2 0.6 0.6 c0 0.32 -0.24 0.6 -0.6 0.6 l-6.04 0 l0 14.08 c0 0.4 -0.2 0.6 -0.6 0.6 z M43.440000000000005 37.2 l-3.64 0 c-2.88 0 -5.16 -1.96 -5.16 -4.36 c0 -1.08 0.44 -2.04 1.32 -2.88 c0.44 -0.44 1.04 -0.8 1.8 -1.08 c-1 -0.92 -1.92 -2.08 -1.92 -3.52 c0 -2.44 1.96 -4.4 4.4 -4.4 l2.92 0 c2.4 0 4.36 1.96 4.36 4.4 c0 2.04 -1.44 3.76 -3.32 4.24 c-0.2 0.12 -0.36 0.2 -0.56 0.16 c-0.08 -0.04 -0.24 -0.04 -0.48 -0.04 c-0.32 0 -0.6 -0.28 -0.6 -0.6 c0 -0.36 0.28 -0.6 0.6 -0.6 c1.72 0 3.16 -1.44 3.16 -3.16 c0 -1.76 -1.44 -3.2 -3.16 -3.2 l-2.92 0 c-1.76 0 -3.2 1.44 -3.2 3.2 c0 1.12 1 2.16 1.8 2.84 l8.08 6.16 c0.32 -0.48 0.48 -1 0.48 -1.52 c0 -0.28 -0.04 -0.6 -0.16 -0.88 l-1.72 0.04 c-0.36 0 -0.6 -0.28 -0.6 -0.6 s0.24 -0.6 0.6 -0.6 l2 -0.04 l0.2 0 l2.04 0 c0.32 0 0.6 0.28 0.6 0.6 s-0.28 0.6 -0.6 0.6 l-1.28 0 c0.08 0.28 0.12 0.6 0.12 0.88 c0 0.84 -0.24 1.6 -0.72 2.24 l1.32 1 c0.28 0.24 0.32 0.52 0.12 0.84 c-0.2 0.28 -0.56 0.32 -0.84 0.12 l-1.44 -1.08 c-0.92 0.76 -2.2 1.24 -3.6 1.24 z M46.080000000000005 35.2 l-7.12 -5.4 c-1.8 0.32 -3.12 1.6 -3.12 3.04 c0 0.84 0.36 1.6 1.12 2.2 c0.8 0.64 1.76 0.96 2.84 0.96 l3.64 0 c1 0 1.88 -0.28 2.64 -0.8 z M62.36000000000001 37.2 l-10.52 0 c-0.32 0 -0.6 -0.28 -0.6 -0.6 l0 -15.08 c0 -0.32 0.28 -0.6 0.6 -0.6 l15.08 0 c0.32 0 0.6 0.28 0.6 0.6 c0 0.36 -0.28 0.6 -0.6 0.6 l-14.48 0 l0 8.84 l6.04 0.04 c0.4 0 0.6 0.2 0.6 0.6 c0 0.32 -0.28 0.6 -0.6 0.6 l-6.04 -0.04 l0 3.84 l9.92 0 c0.32 0 0.6 0.28 0.6 0.6 s-0.28 0.6 -0.6 0.6 z M81 37.2 l-11.28 0 c-0.36 0 -0.6 -0.28 -0.6 -0.6 l0 -24.76 c0 -0.32 0.24 -0.6 0.6 -0.6 c0.32 0 0.6 0.28 0.6 0.6 l0 24.16 l10.68 0 c0.32 0 0.6 0.28 0.6 0.6 s-0.28 0.6 -0.6 0.6 z"></path></g></svg>
  <svg width="396" height="396" class="css-ze2te4 css-qd6ojx" viewBox="0 0 100 78.92626597477275"><g transform="translate(-5.685366878105789, -16.275756890454314) scale(1.1147778400822135)" class="css-1e98oqk" fill="#000000"><path xmlns="http://www.w3.org/2000/svg" d="M90.9,14.6H19.6c-2.2,0-3.9,1.8-3.9,3.9v28.2h5.4V21.5h68.4v41.1H28.7v6.9H49c0,0.1-0.1,0.3-0.1,0.4c0,2.1-2,5.7-4.5,8  l-3.3,3c-2.5,2.3-1.8,4.1,1.4,4.1H56h13.4c3.2,0,3.9-1.9,1.4-4.1l-3.3-3C65,75.7,63,72.1,63,70c0-0.1,0-0.3-0.1-0.4h28  c2.2,0,3.9-1.8,3.9-3.9V18.5C94.9,16.3,93.1,14.6,90.9,14.6z"></path><path xmlns="http://www.w3.org/2000/svg" d="M65.2,49.4c0.1,0.1,0.3,0.1,0.5,0.1c0.3,0,0.6-0.1,0.8-0.3l2.2-2l2,5.2c0.1,0.3,0.3,0.5,0.6,0.6c0.1,0.1,0.3,0.1,0.5,0.1  c0.1,0,0.3,0,0.4-0.1l2.4-0.9c0.6-0.2,0.9-0.9,0.6-1.5l-2-5.2l3,0c0,0,0,0,0,0c0.6,0,1.1-0.5,1.1-1.1c0-0.4-0.2-0.7-0.5-0.9L66.5,32  c-0.3-0.3-0.8-0.5-1.2-0.3c-0.4,0.2-0.7,0.6-0.7,1.1l0,15.6C64.6,48.8,64.8,49.2,65.2,49.4z"></path><path xmlns="http://www.w3.org/2000/svg" d="M22.7,49.1H8.7c-2,0-3.6,1.6-3.6,3.6v29.1c0,2,1.6,3.6,3.6,3.6h13.9c2,0,3.6-1.6,3.6-3.6V52.7  C26.3,50.7,24.7,49.1,22.7,49.1z M15.7,82.8c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8  C17.5,81.9,16.7,82.8,15.7,82.8z M23.3,77.3H8.1V54.5h15.3V77.3z"></path><path xmlns="http://www.w3.org/2000/svg" d="M16,73.1l1.4,1.4c2.1-2.1,3.3-5,3.3-8c0-3-1.2-5.9-3.3-8L16,59.7c1.8,1.8,2.8,4.2,2.8,6.7C18.7,68.9,17.7,71.3,16,73.1z"></path><path xmlns="http://www.w3.org/2000/svg" d="M13.6,70.8l1.4,1.4c1.5-1.5,2.4-3.6,2.4-5.8c0-2.2-0.9-4.2-2.4-5.8L13.6,62c1.2,1.2,1.8,2.8,1.8,4.4  C15.4,68.1,14.8,69.6,13.6,70.8z"></path><path xmlns="http://www.w3.org/2000/svg" d="M12.6,69.7c0.9-0.9,1.4-2.1,1.4-3.3c0-1.3-0.5-2.4-1.4-3.3l-1.4,1.4c0.5,0.5,0.8,1.2,0.8,2c0,0.7-0.3,1.4-0.8,2L12.6,69.7z"></path></g></svg> 
  
  <div id="map"></div>
  <?php

// Lee el contenido del archivo de texto
$fileContents = file_get_contents('localizacion_Hola.txt');

// Divide el contenido del archivo por saltos de línea
$lines = explode("\n", $fileContents);
$nombre=0;
// Crea un arreglo para almacenar las ubicaciones
$locations = array();
// Recorre cada línea del archivo
foreach ($lines as $line) {
  // Divide cada línea por comas
  $data = explode(',', $line);

  // Obtén los valores de nombre, latitud y longitud
  if (isset($data[0]) && isset($data[1])) {
  $nombre=$nombre++;
  $latitud = trim($data[0]);
  $longitud = trim($data[1]);
  }
  // Agrega la ubicación al arreglo de ubicaciones
  $locations[] = array($nombre,$latitud, $longitud);
}

// Genera el código JavaScript para el arreglo de ubicaciones
$jsLocations = json_encode($locations);

// Guarda el código JavaScript en un archivo temporal
$tempFile = tempnam(sys_get_temp_dir(), 'locations');
file_put_contents($tempFile, $jsLocations);
print_r($jsLocations);
 
?>
<script>
  // Convertir la cadena JSON en un objeto JavaScript
  var locations = JSON.parse('<?php echo $jsLocations; ?>');

  // Usar el array en JavaScript
  console.log(locations);
</script>

  <script>
    function initMap() {
      // Crear el mapa
      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 17,
        center: {lat: 6.4735016, lng: -73.259444} // Coordenadas del centro del mapa
      });

      // Leer el archivo CSV y obtener las ubicaciones
      

      // Crear un arreglo para almacenar las coordenadas de los puntos
      var points = [];

      // Crear los marcadores y agregarlos al mapa
      for (var i = 0; i < locations.length; i++) {
        var location = locations[i];
        var latLng = new google.maps.LatLng(location[1], location[2]);
        points.push(latLng);

        /* var marker = new google.maps.Marker({
          position: latLng,
          map: map,
          title: location[0]
        }); */
      }

      // Crear una polilínea para unir los puntos
      var polyline = new google.maps.Polyline({
        path: points,
        geodesic: true,
        strokeColor: '#FF0000',
        strokeOpacity: 1.0,
        strokeWeight: 2
      });

      // Agregar la polilínea al mapa
      polyline.setMap(map);
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=xxx&callback=initMap" async defer></script>
</body>
</html>
